<!DOCTYPE html>
<html lang="es">
<head>
    <title>Perfil</title>
    <%- include('headers') %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <%- include('header',{titleHere: "Perfil"}) %>
    <style>
        #patternContainer{
            background-color: #21D4FD;
            background-image: linear-gradient(19deg, #21D4FD 0%, #B721FF 100%);
            width: 100%;
            height: 150px;
            display: block;
            position: relative;
        }
        #profilePic{
            border-radius: 15px;
            background-color: #ffffff;
            width: 90%;
            position: absolute;
            bottom: -20px;
            left: 5%;
            padding: 8px;
            box-shadow: 0 1px 20px -5px rgba(168, 168, 168, 0.6);
        }
        #btnQR{
            position: absolute;
            top: 10px;
            right: 5%;
        }
    </style>
    <div class="modal fade" id="qrmodal" tabindex="-1" aria-labelledby="qrmodalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="qrmodalLabel">QR Code</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="qrBodymodal" class="d-flex justify-content-center align-items-center"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="patternContainer">
        <button id="btnQR" type="button" class="btn btn-outline-light" data-toggle="modal" data-target="#qrmodal"><i class="fas fa-qrcode pr-2"></i>QR</button>
        <div id="profilePic">
            <div class="d-flex justify-content-start align-items-center">
                <div class="profilePic">
                    <img src="/public/uploads/<%= user.foto%>" style="border-radius: 100%;" width="55px" height="55px">
                </div>
                <div class="ml-3">
                    <h4 class="mb-0"><%- user.nombre %></h4>
                    <small class="mb-0"><%- user.correo %></small>
                    <span class="sr-only" id="idEstudiante"><%= user.idEstudiante %></span>
                    <span class="sr-only" id="cedulaID"><%= user.cedula %></span>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="d-flex justify-content-center align-items-center mt-5 w-100" id="datosLoad">
            <div class="card h-100 card-custom animate__animated animate__zoomIn w-100">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="font-weight-bold mb-0">Datos Personales</h5>
                    <div>
                        <select id="tipodedatos" class="custom-select custom-select-sm">
                            <option value="personal">Personales</option>
                            <option value="secundario">Secundarios</option>
                        </select>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row mx-0 w-100" id="containerPrimario">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_nombre_usuario">Nombre de usuario</label>
                                <input type="text" class="form-control" id="v_nombre_usuario">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_correo">Correo</label>
                                <input type="email" class="form-control" id="v_correo">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_fec_nacimiento">Fecha de nacimiento</label>
                                <input type="date" class="form-control" id="v_fec_nacimiento">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_sexo">Sexo</label>
                                <select id="v_sexo" class="form-control">
                                    <option value="Masculino">Masculino</option>
                                    <option value="Femenino">Femenino</option>
                                    <option value="Otro">Otro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_Dirección">Dirección</label>
                                <input type="text" class="form-control" id="v_Dirección">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_telefono">Teléfono</label>
                                <input type="text" class="form-control" id="v_telefono">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_celular">Celular</label>
                                <input type="text" class="form-control" id="v_celular">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_carrera">Carrera o Departamento</label>
                                <input type="text" class="form-control" id="v_carrera">
                            </div>
                            <div class="form-group">
                                <label class="font-weight-bold" for="v_perfil">Perfil</label>
                                <select class="form-control" id="v_perfil">
                                    <option value="Estudiante">Estudiante</option>
                                    <option value="Funcionario">Funcionario</option>
                                </select>
                            </div>
                        </div>
                        <div class="w-100 mx-auto">
                            <div class="col-md-12 d-flex justify-content-start">
                                <button type="button" class="btn btn-primary" id="Guardar-datos-estudiante" onclick="actualizarDatosEstudiante()"><i class="fas fa-pencil-alt"></i> Guardar Datos</button>
                            </div>
                        </div>
                    </div>
                    <div class="mx-0 w-100" style="display: none;" id="containerSecundario">
                        <h6 class="font-weight-bold">Datos de Emergencia:</h6>
                        <div class="form-row">
                            <div class="col-6">
                                <input type="text" placeholder="Nombre de Emergencia" class="form-control" id="v_telefonoEmergenciaNombre">
                            </div>
                            <div class="col-6">
                                <input type="number" placeholder="Teléfono de Emergencia" class="form-control" id="v_telefonoEmergencia">
                            </div>
                        </div>
                        <hr class="my-2">
                        <div class="w-100 mx-0 flex-column">
                            <h5 class="font-weight-bold">Padecimientos</h5>
                            <div class="form-group">
                                <textarea class="form-control" id="v_padecimientos" rows="5"></textarea>
                            </div>
                        </div>
                        <div class="w-100 mx-auto mt-3">
                            <div class="d-flex justify-content-start">
                                <button type="button" class="btn btn-primary" id="Guardar-datos-estudiante-secundario" onclick="actualizarDatosEstudianteSecundario()"><i class="fas fa-pencil-alt"></i> Guardar Datos</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <%- include('menu') %>
    <script src="/js/client/perfil.js""></script>
</body>
</html>